<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DrawNow!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>DrawNow!</h1>
  </header>

  <!-- Toolbar -->
  <div class="toolbar">
    <div class="toolbar-item">
      <label for="brushSize">Size</label>
      <input type="range" id="brushSize" min="1" max="80" value="10" />
      <span id="brushSizeValue">10</span>
    </div>

    <div class="toolbar-item">
      <label for="opacity">Opacity</label>
      <input type="range" id="opacity" min="0" max="100" value="100" />
      <span id="opacityValue">100</span>
    </div>

    <div class="toolbar-item color-row">
      <label for="brushColor">Color</label>
      <input type="color" id="brushColor" value="#000000" />

      <!-- OPEN WHEELS -->
      <button id="toggleWheel" class="btn small" type="button">
        Color Wheels
      </button>

      <div id="recentColors"></div>
    </div>

    <div class="toolbar-item">
      <label for="tool">Tool</label>
      <select id="tool">
        <option value="pen">Pen</option>
        <option value="eraser">Eraser</option>
        <option value="fill">Fill</option>
        <option value="shape">Shapes</option>
        <option value="select">Select Area</option>
        <option value="lasso">Lasso Select</option>
        <option value="transform">Transform</option>


        <option value="cropImage">Crop</option>

        <option value="text">Text</option>
      </select>
    </div>

    <div class="toolbar-item">
      <label for="brushType">Brush</label>
      <select id="brushType">
        <option value="round">Round</option>
        <option value="marker">Marker</option>
        <option value="pencil">Pencil</option>
        <option value="sketch">Sketch</option>
        <option value="calligraphy">Calligraphy</option>
        <option value="spray">Spray</option>
        <option value="neon">Neon</option>
        <option value="crayon">Crayon</option>
        <option value="dotted">Dotted</option>
        <option value="star">Star</option>
        <option value="heart">Heart</option>
      </select>
    </div>

    <div class="toolbar-item" id="shapeOptions" style="display:none;">
      <label for="shapeType">Shape</label>
      <select id="shapeType">
        <option value="line">Line</option>
        <option value="dottedLine">Dotted Line</option>
        <option value="rectangle">Rectangle</option>
        <option value="dottedRectangle">Dotted Rectangle</option>
        <option value="circle">Circle</option>
        <option value="ellipse">Ellipse</option>
        <option value="star">Star</option>
        <option value="heart">Heart</option>
      </select>
    </div>

    <div class="toolbar-item">
      <label for="backgroundPattern">BG</label>
      <select id="backgroundPattern">
        <option value="plain">Plain</option>
        <option value="dark">Dark</option>
        <option value="notebook">Notebook</option>
        <option value="fabric">Fabric</option>
        <option value="paper">Paper</option>
        <option value="grid">Grid</option>
        <option value="wood">Wood</option>
        <option value="marble">Marble</option>
        <option value="transLight">Transparent Light</option>
        <option value="transDark">Transparent Dark</option>
      </select>
    </div>

    <div class="toolbar-item icon-actions">
      <button id="clearCanvas" class="btn small" type="button">Clear</button>
      <button id="undoCanvas" class="btn small" type="button">Undo</button>
      <button id="redoCanvas" class="btn small" type="button">Redo</button>

      <select id="downloadFormat" title="Download Format" aria-label="Download Format">
        <option value="png">PNG</option>
        <option value="png-transparent">PNG (Transparent)</option>
        <option value="jpg">JPG</option>
        <option value="jpeg">JPEG</option>
      </select>

      <button id="downloadCanvas" class="btn small" type="button">Download</button>
      <button id="flipCanvas" class="btn small" type="button">Flip</button>

      <button id="addImageButton" class="btn small" type="button">Add Image</button>
      <input type="file" id="addImageInput" accept="image/*" style="display:none;" />

      <button id="darkModeToggle" class="btn small" aria-pressed="false" type="button">Light/Dark</button>
    </div>

    <div class="toolbar-item">
      <label class="check-row">
        <input type="checkbox" id="symmetry" />
        Symmetry
      </label>
    </div>
  </div>

  <!-- Workspace: CANVAS LEFT, LAYERS RIGHT -->
  <div class="workspace">
    <div class="canvas-wrap">
      <div class="canvas-container plain" id="canvasContainer">
        <!-- REQUIRED: your script expects drawingCanvas -->
        <canvas id="drawingCanvas" width="800" height="600"></canvas>

        <!-- Lasso preview -->
        <canvas id="lassoOverlay" width="800" height="600"></canvas>

        <div id="selectionOverlay" class="selection-overlay" style="display:none;"></div>
        <div id="cropOverlay" class="crop-overlay" style="display:none;"></div>

        <div id="transformBox" class="transform-box" style="display:none;" role="group" aria-label="Transform handles">
          <div class="handle handle-nw" data-handle="nw"></div>
          <div class="handle handle-n"  data-handle="n"></div>
          <div class="handle handle-ne" data-handle="ne"></div>
          <div class="handle handle-e"  data-handle="e"></div>
          <div class="handle handle-se" data-handle="se"></div>
          <div class="handle handle-s"  data-handle="s"></div>
          <div class="handle handle-sw" data-handle="sw"></div>
          <div class="handle handle-w"  data-handle="w"></div>
          <div class="rotate-handle" data-rotate="true" title="Rotate"></div>
        </div>
      </div>
    </div>

    <aside class="side-panel" id="layersPanelHost">
    </aside>
  </div>

  <!-- Color Wheels  -->
  <div id="wheelPanel" class="wheel-panel" style="display:none;">
    <div class="wheel-header">
      <div class="wheel-title">Color Wheels</div>
      <button id="closeWheel" class="btn small" type="button">Close</button>
    </div>

    <div class="wheel-tabs">
      <button id="wheelTabCircular" class="tab active" type="button">Circular</button>
      <button id="wheelTabTriangle" class="tab" type="button">Triangle</button>
    </div>

    <!-- Circular mode -->
    <div id="circularWrap" class="wheel-wrap">
      <canvas id="circleWheel" width="220" height="220"></canvas>
    </div>

    <!-- Triangle mode -->
    <div id="triangleWrap" class="wheel-wrap" style="display:none;">
      <canvas id="triWheel" width="220" height="220"></canvas>
    </div>

    <!-- Preview row: old + new -->
    <div class="wheel-preview">
      <div class="sw">
        <div class="lbl">Old</div>
        <div id="oldColorChip" class="chip"></div>
      </div>
      <div class="sw">
        <div class="lbl">New</div>
        <div id="newColorChip" class="chip"></div>
      </div>
      <div class="hex">
        <div class="lbl">Hex</div>
        <div id="wheelHex">#000000</div>
      </div>
    </div>

    <div class="wheel-footer">
      <button id="wheelSetBtn" class="btn primary" type="button">Use Color</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
