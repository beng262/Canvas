<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DrawNow!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>DrawNow!</h1>
  </header>

  <div class="toolbar">
    <div class="toolbar-item">
      <label for="brushSize">Brush Size:</label>
      <input type="range" id="brushSize" min="1" max="50" value="10">
      <span id="brushSizeValue">10</span>
    </div>
    <div class="toolbar-item">
      <label for="opacity">Opacity:</label>
      <input type="range" id="opacity" min="0" max="100" value="100">
      <span id="opacityValue">100</span>
    </div>
    <div class="toolbar-item">
      <label for="brushColor">Color:</label>
      <input type="color" id="brushColor" value="#000000">
      <div id="recentColors"></div>
    </div>

    <div class="toolbar-item">
      <label for="tool">Tool:</label>
      <select id="tool">
        <option value="pen">Pen</option>
        <option value="eraser">Eraser</option>
        <option value="fill">Fill</option>
        <option value="shape">Shapes</option>
        <option value="select">Selection</option>
        <option value="transform">Transform Image</option>
        <option value="cropImage">Crop Image</option>
      </select>
    </div>

    <div class="toolbar-item" id="shapeOptions" style="display:none;">
      <label for="shapeType">Shape:</label>
      <select id="shapeType">
        <option value="line">Straight Line</option>
        <option value="dottedLine">Dotted Line</option>
        <option value="rectangle">Rectangle</option>
        <option value="dottedRectangle">Dotted Rectangle</option>
        <option value="circle">Circle</option>
        <option value="ellipse">Ellipse</option>
        <option value="oval">Oval</option>
        <option value="star">Star</option>
        <option value="heart">Heart</option>
      </select>
    </div>

    <div class="toolbar-item">
      <label for="backgroundPattern">Canvas Background:</label>
      <select id="backgroundPattern">
        <option value="plain">Plain (White)</option>
        <option value="dark">Dark (Black)</option>
        <option value="notebook">Notebook</option>
        <option value="pastel">Pastel Pattern</option>
        <option value="fabric">Fabric</option>
        <option value="paper">Paper</option>
        <option value="grid">Grid</option>
        <option value="oldpaper">Old Paper</option>
        <option value="wood">Wood</option>
        <option value="marble">Marble</option>
      </select>
    </div>

    <div class="toolbar-item">
      <button id="newCanvas">New Canvas</button>
      <button id="clearCanvas">Clear Canvas</button>
      <button id="undoCanvas">⟲ Undo</button>
      <button id="redoCanvas">⟳ Redo</button>
      <button id="downloadCanvas">Download</button>
      <button id="darkModeToggle" aria-pressed="false" title="Switch to dark mode">☀️</button>
      <button id="addImageButton">Add Image</button>
      <input type="file" id="addImageInput" accept="image/*" style="display:none;">
    </div>

    <div class="toolbar-item">
      <label>
        <input type="checkbox" id="symmetry">
        Symmetry Mode
      </label>
    </div>
  </div>

  <div class="canvas-container plain" id="canvasContainer">
    <canvas id="drawingCanvas" width="800" height="600"></canvas>

    <!-- Transform box overlay -->
    <div id="transformBox" class="transform-box" style="display:none;" role="group" aria-label="Image transform handles">
      <div class="handle handle-nw" data-handle="nw"></div>
      <div class="handle handle-n"  data-handle="n"></div>
      <div class="handle handle-ne" data-handle="ne"></div>
      <div class="handle handle-e"  data-handle="e"></div>
      <div class="handle handle-se" data-handle="se"></div>
      <div class="handle handle-s"  data-handle="s"></div>
      <div class="handle handle-sw" data-handle="sw"></div>
      <div class="handle handle-w"  data-handle="w"></div>
      <div class="rotate-handle" data-rotate="true" title="Rotate"></div>
    </div>

    <!-- Crop overlay -->
    <div id="cropOverlay" class="crop-overlay" style="display:none;"></div>

    <!-- Selection marquee -->
    <div id="selectOverlay" class="select-overlay" style="display:none;"></div>
  </div>

  <script src="script.js"></script>
</body>
</html>
